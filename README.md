# Фильтр желтушных новостей

Микросервис для определения степени "желтизны" (эмоциональной окраски) текста. Для начала работы сервису необходимо передать `GET`-запросом список `url` содержащих тексты. После скачивания и очистки текста от разметки, сервис выполняет [лемматизацию](https://ru.wikipedia.org/wiki/Лемматизация) (приведение слова к нормальной форме). Полученные слова проверяются на вхождение в словарь эмоционально окрашенных слов, на основании чего тексту присваивается рейтинг. Чем выше рейтинг, тем "желтее" текст. Результат возвращается в формате `json`.

Пока поддерживается только один новостной сайт - [ИНОСМИ.РУ](https://inosmi.ru/). Для него разработан специальный адаптер, отделяющий текст статьи от HTML-разметки. Для других новостных сайтов потребуются свои адаптеры, они будут находиться в каталоге `adapters`. Туда же помещен код для сайта ИНОСМИ.РУ: `adapters/inosmi_ru.py`.

В перспективе можно создать универсальный адаптер, подходящий для всех сайтов, но его разработка будет сложной и потребует дополнительных времени и сил.

# Как установить

Вам понадобится Python версии 3.7 или старше. Для установки пакетов рекомендуется создать виртуальное окружение.

Первым шагом установите пакеты:

```python3
pip install -r requirements.txt
```

# Как запустить

```python3
python server.py
```

# Как запустить тесты

Для тестирования используется [pytest](https://docs.pytest.org/en/latest/), тестами покрыты фрагменты кода сложные в отладке: `text_tools.py`, `process_article.py` и адаптеры. Команды для запуска тестов:

```
python -m pytest adapters/inosmi_ru.py
```

```
python -m pytest text_tools.py
```

```
python -m pytest process_article.py
```

# Цели проекта

Код написан в учебных целях. Это урок из курса по веб-разработке — [Девман](https://dvmn.org).
